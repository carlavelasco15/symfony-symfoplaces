{% extends 'base.html.twig' %}
{% block title %}Edición de actor <b>{{ actor.nombre }}{% endblock %}

{% block breadcrumb %}
	{{parent()}}
    <li class="breadcrumb-item"><a href=" {{ path('actor_list') }}">Actores</a></li>
    <li class="breadcrumb-item active" aria-current="page">Editar {{actor.nombre}}</li>
{% endblock %}

{%  block main %}
	{{ parent() }}
	<p>Edición de la actor <b>{{ actor.nombre }}</b>.</p>
	<p>A lo largo de las próximas semanas iremos editando este ejemplo para dotarlo de nuevas características y funcionalidades.</p>
	

	<div class="bg-light p-5 border row align-items-center justify-content-center my-3">

		<div class="col-6">
			{{ form(formulario) }}
		</div>

		<div class="col-6 text-center">
			<figure class="my-2 p-2">
				<img class="rounded border movie-cover" style="max-width: 220px"
					alt="Foto de {{actor.nombre}}"
					title= "Carátula de {{actor.nombre}}"
					src="{{asset(actors_directory~'/'~(actor.image ?? 'default.jpg'))}}">

				{% if actor.image %}
				<figcaption class="my-3 text-center">
					Borrar esta Imagen
					<a href="{{path('actor_delete_image', {'id': actor.id})}}">
						<img src="{{asset('images/buttons/delete.png')}}" height="30" width="30"
							alt="Borrar image" title="Borrar image">
					</a>
				</figcaption>
				{% endif %}
			</figure>
		</div>

		<ul class="list-group p-2 my-3">
			{% for pelicula in actor.getPeliculas() %}
				<li class="list-group-item p-2">
					<a class="align-middle" href="{{ path('pelicula_show', {'id': pelicula.id}) }}">
						{{ pelicula.titulo }}
					</a>
					<span class="align-middle">, de {{ pelicula.director }}.</span>
					<a href="{{ path('actor_remove_pelicula', 
									{'actor' : actor.id, 'pelicula': pelicula.id}) }}">
						<img src="{{ asset('/images/buttons/delete.png') }}"
							alt="quitar" height="25" width="25" class="m-2">
					</a>
				</li>
			{% else %}
				<li class="list-group-item warning">No se han indicado peliculas.</li>
			{% endfor %}
		</ul>
			{{ form_start(formularioAddPelicula) }}
			<div class="col-3 align-self-start">
				<div class="px-2">
					{{ form_label(formularioAddPelicula.pelicula) }}
				</div>
				<div class="px-2">
					{{ form_widget(formularioAddPelicula.pelicula) }}
				</div>
				<div class="p-2 mt-3">
					{{ form_row(formularioAddPelicula.Add) }}
				</div>
					{{ form_rest(formularioAddPelicula) }}
			</div>
	</div>
	
{% endblock %}
